{ifvalue highlights_image}
<div id="highlights">
  <img src="{publiclink}{raw}highlights_image{raw}{publiclink}">
</div>
{ifvalue}

<div class="row">
  <div id="maincontainer" class="col-12">
    <div id="maincontent">
      <h1 class="display-4">{lang}amb_page_title{lang}</h1>

      {lang}amb_main_content{lang}

      <h2 id="ambTitle" class="py-3">{lang}amb_plan_title{lang}</h2>

      <div id="ambStart">
        <div class="jumbotron border mb-1 py-4">
          <div class="text-right pb-4 pb-sm-1">
            <div class="form-check form-check-inline">
              <label for="currencySelector" class="form-check-label small pr-1">{lang}currencies_title{lang}</label>

              <select id="currencySelector" class="custom-select custom-select-sm">
                {loop currencies}
                <option value="#code#">#title#</option>
                {loop}
              </select>

              <script>$('#currencySelector').val(OSCOM.currency);</script>
            </div>
          </div>

          <div class="text-center">
            <h1 class="display-4"><span id="ambPrice" data-originalprice="{value}amb_price{value}">{value}amb_price{value}</span><sup style="vertical-align: top; font-size: 0.4em; top: 15px;">*</sup> <span class="text-muted">{lang}lifetime{lang}</span></h1>

            {iftrue is_ambassador}
            <p class="lead py-3">{lang}welcome_boost{lang}</p>

            <p><button id="ambStartButton" class="btn btn-success btn-lg">{lang}button_boost_ambassador_level next_level="{value}ambassador_user_next_level{value}"{lang}</button></p>
            {else}
            <p class="lead py-3">{lang}welcome_start{lang}</p>

            <p><button id="ambStartButton" class="btn btn-success btn-lg">{lang}button_become_an_ambassador{lang}</button></p>
            {iftrue}
          </div>
        </div>

        <p class="text-muted text-center small mt-2">{lang}amb_pricing_info{lang}</p>

        <ul class="list-group d-flex flex-row flex-wrap">
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_profile{lang}
          </li>
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_apps{lang}
          </li>
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_sites{lang}
          </li>
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_commercial{lang}
          </li>
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_commercial_feedback{lang}
          </li>
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_search{lang}
          </li>
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_pm{lang}
          </li>
          <li class="list-group-item list-group-item-action w-sm-50 border-0">
            <span class="float-right" style="font-size: 120%;">{fa}check-square|text-success{fa}</span>
            {lang}amb_plan_forum_channel{lang}
          </li>
        </ul>
      </div>

      <div id="ambLogin" class="card bg-light d-none">
        <div class="card-body">
          <h3 class="card-title">{lang}login_title{lang}</h3>

          <div class="alert alert-danger d-none" role="alert" style="font-size: 0.9em;"></div>

          <form id="ambLoginForm" novalidate>{formprotect}public_token{formprotect}
            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="cUsername">{lang}login_username_title{lang}</label>
                  <input type="input" class="form-control" id="cUsername" required>
                  <div class="invalid-feedback"></div>
                </div>
              </div>

              <div class="col-lg-6">
                <div class="form-group">
                  <label for="cPassword">{lang}login_password_title{lang}</label>
                  <input type="password" class="form-control" id="cPassword" required>
                  <div class="invalid-feedback"></div>
                  <span class="text-muted small"><a href="{link}Account|Website|ResetPassword|SSL{link}">{lang}login_password_forgotten_link{lang}</a></span>
                </div>
              </div>
            </div>

            <p><button type="submit" id="ambLoginButton" class="btn btn-info" data-processing-text="{escape}{lang}login_processing_button_title{lang}{escape}">{lang}login_button_title{lang}</button></p>
          </form>

          <p style="font-size: 0.9em;">{lang}login_account_required_reason{lang}</p>

          <p style="font-size: 0.9em;"><a href="#" id="ambCreateAccountLink" role="button">{lang}login_create_account_info{lang}</a></p>
        </div>
      </div>

      <div id="ambCreateAccount" class="card bg-light d-none">
        <div class="card-body">
          <h3 class="card-title">{lang}create_title{lang}</h3>

          <div class="alert alert-danger d-none" role="alert" style="font-size: 0.9em;"></div>

          <form id="ambCreateAccountForm" novalidate>{formprotect}public_token{formprotect}
            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="cnUsername">{lang}create_username_title{lang}</label>
                  <input type="input" class="form-control" id="cnUsername" required>
                  <div class="invalid-feedback"></div>
                  <small class="form-text text-muted">{lang}create_username_note{lang}</small>
                </div>
              </div>

              <div class="col-lg-6">
                <div class="form-group">
                  <label for="cnEmail">{lang}create_email_address_title{lang}</label>
                  <input type="email" class="form-control" id="cnEmail" required>
                  <div class="invalid-feedback"></div>
                </div>
              </div>

              <div class="col-12">
                <div class="form-group">
                  <label for="cnPassword">{lang}create_password_title{lang}</label>
                  <input type="password" class="form-control" id="cnPassword" required>
                  <div class="invalid-feedback"></div>
                  <small class="form-text text-muted">{lang}create_password_note{lang}</small>
                </div>
              </div>

              <div class="col-12">
                <div class="form-group">
                  <label>{lang}create_security_check_title{lang}</label>
                  <div id="cnSecurityCheck"></div>
                  <div class="invalid-feedback d-inline"></div> <!-- d-inline required as there is no input.form-control //-->
                </div>
              </div>
            </div>

            <p class="mt-2"><button type="submit" id="ambCreateAccountButton" class="btn btn-info" data-processing-text="{escape}{lang}create_processing_button_title{lang}{escape}">{lang}create_button_title{lang}</button></p>
            <p class="text-muted" style="font-size: 0.9em;">{lang}create_tos_agree{lang}</p>
          </form>

          <p style="font-size: 0.9em;"><a href="#" id="ambLoginLink" role="button">{lang}create_login_link{lang}</a></p>
        </div>
      </div>

      <div id="ambVerifyAccount" class="card bg-light d-none">
        <div class="card-body">
          <h3 class="card-title">{lang}verify_title{lang}</h3>

          <div class="alert alert-success d-none" role="alert" style="font-size: 0.9em;"></div>

          <p style="font-size: 0.9em;">{lang}verify_introduction{lang}</p>

          <div class="alert alert-danger d-none" role="alert" style="font-size: 0.9em;"></div>

          <form id="ambVerifyAccountForm" novalidate>{formprotect}public_token{formprotect}
            <div class="row">
              <div class="col-lg-4">
                <div class="form-group">
                  <label for="cvUserId">{lang}verify_user_id_title{lang}</label>
                  <input type="tel" class="form-control" id="cvUserId" required>
                  <div class="invalid-feedback"></div>
                </div>
              </div>

              <div class="col-lg-8">
                <div class="form-group">
                  <label for="cvKey">{lang}verify_key_title{lang}</label>
                  <input type="input" class="form-control" id="cvKey" required>
                  <div class="invalid-feedback"></div>
                </div>
              </div>
            </div>

            <p><button type="submit" id="ambVerifyAccountButton" class="btn btn-info" data-processing-text="{escape}{lang}verify_processing_button_title{lang}{escape}">{lang}verify_button_title{lang}</button></p>
          </form>
        </div>
      </div>

      <div id="ambBillingAddress" class="card bg-light d-none">
        <div class="card-body">
          <h3 class="card-title">{lang}billing_address_title{lang}</h3>

          <p style="font-size: 0.9em;">{lang}billing_address_introduction{lang}</p>

          <div class="alert alert-danger d-none" role="alert" style="font-size: 0.9em;"></div>

          <form id="ambBillingAddressForm" novalidate>
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="cFirstName">{lang}billing_firstname_title{lang}</label>
                  <input type="input" class="form-control" id="cFirstName" required>
                  <div class="invalid-feedback"></div>
                </div>
              </div>

              <div class="col-sm-6">
                <div class="form-group">
                  <label for="cLastName">{lang}billing_lastname_title{lang}</label>
                  <input type="input" class="form-control" id="cLastName" required>
                  <div class="invalid-feedback"></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="cStreetAddress">{lang}billing_street_address_title{lang}</label>
                  <input type="input" class="form-control" id="cStreetAddress" required>
                  <div class="invalid-feedback"></div>
                </div>
              </div>

              <div class="col-sm-6">
                <div class="form-group">
                  <label for="cStreetAddress2">{lang}billing_street_address2_title{lang}</label>
                  <input type="input" class="form-control" id="cStreetAddress2" placeholder="optional">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="cCity">{lang}billing_city_title{lang}</label>
                  <input type="input" class="form-control" id="cCity">
                </div>
              </div>

              <div class="col-sm-6">
                <div class="form-group">
                  <label for="cZip">{lang}billing_zip_title{lang}</label>
                  <input type="input" class="form-control" id="cZip">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="cCountry">{lang}billing_country_title{lang}</label>
                  {raw}field_countries{raw}
                  <div class="invalid-feedback"></div>
                </div>
              </div>

              <div class="col-sm-6">
                <div class="form-group">
                  <label>{lang}billing_state_title{lang}</label>
                  <input type="input" class="form-control d-none" id="cState">
                  <select id="cStateSelect" class="custom-select d-none"></select>
                  <p class="form-control-plaintext" style="font-size: 1.0em;"><small>{lang}billing_country_select_first{lang}</small></p>
                  <div class="invalid-feedback"></div>
                </div>
              </div>
            </div>
          </form>

          <p class="text-right"><button type="submit" id="ambBillingAddressButton" class="btn btn-success" data-processing-text="{escape}{lang}billing_address_processing_button_title{lang}{escape}">{lang}billing_address_continue_button_title{lang}</button></p>
        </div>
      </div>

      <div id="ambPayment" class="card bg-light d-none">
        <div class="card-body">
          <div class="text-right mb-2">
            <img src="{publiclink}images/braintree-badge-wide-light.png{publiclink}" width="202px" height="32px" border="0" alt="Payments by Braintree">
          </div>

          <button type="button" id="ambPaymentChangeAddressButton" class="btn btn-link btn-sm pl-0 invisible">{lang}change_address_title{lang}</button>

          <address id="orderBillingAddress"></address>

          <table id="orderTable" class="table"></table>

          <div class="alert alert-danger d-none" role="alert" style="font-size: 0.9em;"></div>

          <div id="ambBtForm"></div>

          <p class="text-right">
            {fa}arrow-right|d-none text-success{fa}
            <button type="button" id="ambPaymentButton" class="btn btn-secondary d-none" data-processing-text="{escape}{lang}payment_processing_button_title{lang}{escape}" disabled>{lang}payment_pay_now_button_title{lang}</button>
          </p>

          <p id="ambPaymentTerms" class="small text-center text-muted d-none">{lang}payment_tos_agree{lang}</p>
        </div>
      </div>

      <div id="ambSuccess" class="card bg-light d-none">
        <div class="card-body">
          <div class="row">
            <div class="col-3 mx-auto mt-3 display-2 text-center">
              {fa}heart|text-danger{fa}
            </div>

            <div class="col-9 text-center">
              <h1 class="display-4">{lang}success_title{lang}</h1>

              {lang}success_description{lang}

              <p><a href="{link}Account{link}" class="btn btn-success" style="margin-bottom: 10px;">{lang}success_visit_account_button_title{lang}</a></p>
            </div>
          </div>
        </div>
      </div>

      <h3 class="pt-4">{lang}amb_newest_ambassadors_title{lang}</h3>

      <div id="newestAmbMembers" class="row">
        {loop amb_members}
          <div class="col-3 col-sm-2 col-lg-1 text-center">
            <a href="#profile_url#"><img src="#photo_url#" class="rounded-circle my-4" style="width: 75px; height: 75px;" title="#name#"></a>
          </div>
        {loop}
      </div>

      <div class="jumbotron p-4 border" style="font-size: 0.9em;">
        <h5>{lang}amb_payment_acceptance_title{lang}</h5>

        {lang}amb_payment_acceptance_description{lang}

        <h5>{lang}amb_after_payment_title{lang}</h5>

        {lang}amb_after_payment_description{lang}

        <h5>{lang}amb_lifetime_title{lang}</h5>

        {lang}amb_lifetime_description{lang}
      </div>
    </div>
  </div>
</div>

<div id="ambTosPane" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="ambTosPaneLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ambTosPaneLabel">{lang}legal_terms_of_use_policy_ambassador_title{lang}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>

      <div class="modal-body">
        {lang}legal_terms_of_use_policy_ambassador_content{lang}
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-info" data-dismiss="modal">{lang}payment_tos_close{lang}</button>
      </div>
    </div>
  </div>
</div>

<style>
.animationNewAmbassador {
  animation-name: animationNewAmbassador;
  animation-duration: 0.7s;
  animation-timing-function: ease-in-out;
  animation-fill-mode: forwards;
}

@keyframes animationNewAmbassador {
  0% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    transform: scale(1.5);
  }
  70% {
    transform: scale(2.5);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}
</style>

<script>
Object.defineProperties(OSCOM.lang, {
    amb_error_general: {
        value: {lang json_encode}error_general{lang}
    },
    amb_error_login_general: {
        value: {lang json_encode}login_ms_error_general{lang}
    },
    amb_error_create_general: {
        value: {lang json_encode}create_ms_error_general{lang}
    },
    amb_error_verify_general: {
        value: {lang json_encode}verify_ms_error_general{lang}
    },
    amb_error_payment_general: {
        value: {lang json_encode}payment_ms_error_general{lang}
    },
    amb_select_please_select: {
        value: {lang json_encode}select_please_select{lang}
    },
    amb_error_login_username: {
        value: {lang json_encode}login_username_js_error{lang}
    },
    amb_error_login_password: {
        value: {lang json_encode}login_password_js_error{lang}
    },
    amb_error_verify_user_id: {
        value: {lang json_encode}verify_user_id_js_error{lang}
    },
    amb_error_verify_user_key: {
        value: {lang json_encode}verify_key_js_error{lang}
    },
    amb_error_create_email_address: {
        value: {lang json_encode}create_email_address_js_error{lang}
    },
    amb_error_create_security_check: {
        value: {lang json_encode}create_security_check_js_error{lang}
    },
    amb_create_verify_account: {
        value: {lang json_encode}create_verify_account{lang}
    },
    amb_error_billing_firstname: {
        value: {lang json_encode}billing_firstname_js_error{lang}
    },
    amb_error_billing_lastname: {
        value: {lang json_encode}billing_lastname_js_error{lang}
    },
    amb_error_billing_street_address: {
        value: {lang json_encode}billing_street_address_js_error{lang}
    },
    amb_error_payment_transaction: {
        value: {lang json_encode}payment_transaction_error{lang}
    }
});

if (typeof OSCOM.a.vars === 'undefined') OSCOM.a.vars = {};

Object.defineProperties(OSCOM.a.vars, {
    loggedIn: {
        value: {ifvalue user}true{else}false{ifvalue},
        writable: true
    },
    zones: {
        value: {raw json_encode}select_zones{raw}
    },
    billing_address: {
        value: {ifvalue billing_address}{raw json_encode}billing_address{raw}{else}undefined{ifvalue},
        writable: true
    },
    ambPrices: {
        value: {raw json_encode}amb_prices{raw}
    },
    recaptcha_key_public: {
        value: {raw json_encode}recaptcha_key_public{raw}
    },
    language_code: {
        value: {raw json_encode}language_code{raw}
    },
    rpc_login_url: {
        value: '{rpclink}Login|Account|Website{rpclink}'
    },
    rpc_verify_url: {
        value: '{rpclink}Verify|Account|Website{rpclink}'
    },
    rpc_create_url: {
        value: '{rpclink}Create|Account|Website{rpclink}'
    },
    rpc_braintree_client_token_url: {
        value: '{rpclink}GetBraintreeClientToken|_|Website{rpclink}'
    },
    rpc_braintree_process_url: {
        value: '{rpclink}ProcessBraintree|_|Website{rpclink}'
    }
});
</script>
