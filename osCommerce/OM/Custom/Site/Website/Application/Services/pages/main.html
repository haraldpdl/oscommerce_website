<div id="highlights">
  <img src="{publiclink}{raw}highlights_image{raw}{publiclink}">
</div>

<div class="row">
  <div id="maincontainer" class="col-lg-9">
    <div id="maincontent">
      <a href="{link}Services|Website|Info{link}" class="btn btn-success btn-sm mt-3 float-right">{lang}button_partner_with_us{lang}</a>

      <h1 class="display-4">{lang}services_page_title{lang}</h1>

      {lang}services_main_content{lang}

      <h2>{lang}promotions_heading{lang}</h2>

      <div class="pb-4">
        <select id="partnerPromotionFilter" class="form-control">
          <option value="All">{lang}promotions_show_all{lang}</option>

{loop partner_promotion_categories}
          <option value="#code#">#title#</option>
{loop}

        </select>
      </div>

      <div id="partnerPromotionContainer" class="row">

{loop partner_promotions}
        <div class="col-6 col-md-4 partnerPromotionCategory_#category_code# text-center">
          <figure class="figure">
            <a href="#image_promo_url#" target="_blank"><img src="{publiclink}%image_promo_path%{publiclink}" alt="" title="#title#" class="figure-img"></a>
            <figcaption class="figure-caption"><a href="{link}Services|Website|#category_code#{link}">#category_title#</a></figcaption>
          </figure>
        </div>
{loop}

      </div>
    </div>
  </div>

  {widget}services_sidebar_nav{widget}
</div>

<script>
$(function() {
  $('#partnerPromotionFilter').change(function() {
    if ( this.value == 'All' ) {
      $('[class*="partnerPromotionCategory_"]').fadeIn('fast');
    } else {
      var selected = this;

      $('#partnerPromotionContainer').css('minHeight', $('#partnerPromotionContainer').height());

      $('[class*="partnerPromotionCategory_"]').fadeOut('fast').promise().done(function() {
        $('.partnerPromotionCategory_' + selected.value).fadeIn('fast');
        $('#partnerPromotionContainer').css('minHeight', '');
      });
    }
  });
});
</script>
